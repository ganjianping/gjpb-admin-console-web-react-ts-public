- name: Installing Nginx on Ubuntu
  hosts: all
  become: yes
      
  tasks:
    - name: Create gjpb-web-reactjs-app directory
      file:
        path: /var/www/gjpb/admin  # Change this path to your desired directory
        state: directory
        mode: '0755'

    - name: Upload build to /var/www/gjpb/admin
      copy:
        src: "../../../dist/"
        dest: "/var/www/gjpb/admin"
        mode: 0755
      notify: Restart Nginx

  handlers:
    - name: Restart Nginx
      service:
        name: nginx
        state: restarted